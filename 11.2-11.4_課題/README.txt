作成したリソース

ネットワーク
・VPC:hirayama-test-vpc
・public_subnet:hirayama-test-PublicSybnet-1a,hirayama-test-PublicSybnet-1c
・private_subnet:hirayama-test-PrivateSubnet-1a,hirayama-test-PrivateSubnet-1c
・インターネットゲートウェイ：hirayama-test-igw
・ルートテーブル：hirayama-test-public,hirayama-test-private
・Natゲートウェイ:hirayama-test-nat1,hirayama-test-nat2
・セキュリティグループ：hirayama-test-sg,hirayama-test-sg2
自身のPCのIPアドレスのみをインバウンドに設定

ECS
・ECSクラスタ：hirayama-test-ecs_cluster
ホストサーバを論理的に束ねるECSクラスタを作成
・ECSタスク定義:hirayama-test
タスクを生成するための、タスク定義を作成
以下設定値
-family:タスク定義名を指定
-cpu,memory:作成するタスクのサイズを指定
-network_mode:Fargateを使用するので、awsvpcを指定
-requires_compatibilities：起動タイプを指定する。Fargateを指定。
-container_definitions:作成するコンテナ定義をjsonファイルで指定した。
・ECSサービス:hirayama-test-service
起動するタスク数を指定、タスクを維持追加する
-先に作成したECSクラスタ、タスク定義名を指定
-desired_count:タスク数を指定
-launch_type:起動タイプを指定。Fargateを指定する。
-platform_version:バージョンを指定
-assign_public_ip：タスクにパブリックIPを付与するかを指定
-securityGroup:ECSに適用するSGを指定
-subnets：ECSを作成するサブネットを指定
-target_group_arn：適用するターゲットグループを指定する
-container_name,container_port：作成するコンテナ名と、使用するポートを指定
-lifecycle:タスク定義の変更を無効にする

ALB
・ALB:hirayama-test-alb
-load_balancer_type:ロードバランサのタイプを指定。今回はアプリケーションを指定
-internal：VPC内向けではなく外部向けのALBのためfalseを選択
-idle_timeout：ヘルスチェックでタイムアウトになる時間を設定
-enable_deletion_protection:削除保護今回はfalseを設定
-subnet:配置するサブネットを指定
-security_group:適用するSGを指定
・リスナー
-load_balancer_arn:リスナーを設定するロードバランサを指定
-port protocol：ポート、プロトコルを指定
-default_action:定義したリスナーのどのルールにも当てはまらない時に実行
-status_code:ヘルスチェック成功時のステータスコード
・ターゲットグループ：hirayama-test
-vpc_id,port,protocol：使用するVPC、ポート、プロトコルを指定
-target_type:ルーティングの方法、ipによるルーティングを指定
-deregistration_delay:ターゲット登録解除までのALBの待ち時間
-health_check:ヘルスチェック時の設定    
